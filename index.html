<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STITCH - The Escape</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Slackey&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <h1 id="appName">STITCH - The Escape</h1>
        <img id="appLogo" src="assets/logo.png" alt="App Logo">
    </header>

    <nav id="mainMenu">
        <button onclick="navigateTo('welcome')">Welcome</button>
        <button onclick="navigateTo('register')">Register</button>
        <button onclick="navigateTo('login')">Login</button>
        <button onclick="openAboutModal()">About</button>
    </nav>


    <div id="content">
        <!-- Welcome Screen -->
        <div id="welcome" class="applicationpage">
            <h2>Welcome!</h2>
            <img id="welcomeLogo" src="assets/logo.png" alt="Site Logo" />
            <h3>Names: Rudy Kokoliev, Or Lev Ari</h3>
            <h3>ID: 321956914, 314714379</h3>
            <h3>Link to our home website:</h3>
            <a href="https://wed-2023.github.io/assignment2-321956914_314714379_assignment2/" target="_blank">https://wed-2023.github.io/assignment2-321956914_314714379_assignment2/</a>
            <br /><br />
            <div class="welcome-buttons">
                <button onclick="navigateTo('register')">Go to Register</button>
                <button onclick="navigateTo('login')">Go to Login</button>
            </div>
        </div>

        <!-- Register Screen -->
        <div id="register" class="applicationpage">
            <h2>Register</h2>
            <form id="registerForm">
              <label>Username:</label>
              <input type="text" id="regUsername"/>
          
              <label>Password:</label>
              <input type="password" id="regPassword"/>
          
              <label>Confirm Password:</label>
              <input type="password" id="regConfirmPassword"/>
          
              <label>First Name:</label>
              <input type="text" id="regFirstName"/>
          
              <label>Last Name:</label>
              <input type="text" id="regLastName"/>
          
              <label>Email:</label>
              <input type="email" id="regEmail"/>
          
              <label>Date of Birth:</label>
              <div class="dob-select">
                <select id="regDay"></select>
                <select id="regMonth"></select>
                <select id="regYear"></select>
              </div>
              
              <button type="submit">Submit</button>
            </form>

            <footer id="registerfooter">
                <h5>Join the battle to save Earth from the relentless aliens, space is endless and so is the fun with Lilou and Stitch vibes! </h5>
                <h5>Contact us at kokoliev@post.bgu.ac.il or orlevar@post.bgu.ac.il</h5>
            </footer>
        </div>

        <!-- Login Screen -->
        <div id="login" class="applicationpage">
            <h2>Login</h2>
            <input type="text" id="username" placeholder="Username" />
            <input type="password" id="password" placeholder="Password" />
            <button id="loginButton">Login</button>
        </div>

        <!-- About Modal -->
        <dialog id="aboutModal">
            <div class="applicationmodal">
                <button class="close-button" id="closeAboutBtn">&times;</button>
                <h2>About This Project</h2>
                <p><strong>Submitters:</strong> Rudy Kokoliev, Or Lev Ari</p>
                <p><strong>Template Used:</strong> No</p>
                <p><strong>jQuery Plugins Used:</strong> No</p>
                <p><strong>Challenges:</strong></p>
                <ol class="challenges-list">
                    <li>Managing screen transitions</li>
                    <li>Ensuring enemies don't glitch out of the canvas borders</li>
                    <li>Dealing with new game reset in the middle of an active one causing problems with acceleration and the game loop</li>
                    <li>Starting the exercise without some kind of structure</li>
                    <li>First-time experience with updating locations and drawing all the bullets and enemies</li>
                    <li>Understanding that all of the locations need to take into consideration the size of the images.</li>
                </ol>
                <p><strong>Game Instructions:</strong></p>
                <ol class="instructions">
                    <li>Use the arrow keys to move your ship along the bottom 40% of the screen.</li>
                    <li>Press the designated key (set before the game begins) to shoot down enemies, space key is recommended.</li>
                    <li>You start with 3 lives. Every time you're hit, you'll be reset to the starting position.</li>
                    <li>Earn points based on the enemy's row — the higher the row, the more points you get for destroying it, up to 20 points for the 1st row.</li>
                    <li>You can choose the duration of the game, and a timer will be displayed in the upper right corner.</li>
                    <li>Clear all the enemies or aim for the highest score before the time runs out!</li>
                    <li>The enemies fire one bullet at a time, and will only fire again when the bullet reaches 75% of the screen, but be careful — getting hit will cost you a life!</li>
                    <li>Every 5 seconds, the game speeds up, including both the ships and their shots up to a maximum of 4 times, increasing the challenge.</li>
                    <li>Your highest scores are saved and displayed at the end of each game. Please note that they will be reset after every login.</li>
                    <li>Background music plays during gameplay, and sound effects are triggered when you score hits or get disqualified, make sure to turn the volume up!</li>
                </ol>
            </div>
        </dialog>

        <!-- Configuration Screen -->
        <div id="configuration" class="applicationpage">
            <h2>Game Configuration</h2>
        
            <label for="shootKey">Select shooting key (A-Z or Space):</label>
            <input type="text" id="shootKey" maxlength="1" placeholder="Press a key" />
        
            <label for="gameDuration">Select game duration (minutes, min 2):</label>
            <input type="number" id="gameDuration" min="2" value="2" />
        
            <button id="startbutton">Start Game</button>
        </div>

        <!-- Game Screen -->
        <div id="game" class="applicationpage">
            <canvas id="gameCanvas" width="1050" height="540"></canvas>
            <div id="gamebuttons">
                <button id="backToWelcomeBtn">Back to Welcome</button>
                <button id="newGameButton">New Game</button>
                <button id="inGameModal" onclick="openAboutModal()">About</button>
            </div>
        </div>
    </div>

    <div id="customMessage" class="custom-message hidden">
        <p id="customMessageText"></p>
        <button id="customMessageClose">Close</button>
    </div>

    
    <script src="spaceships.js"></script>

    <footer id="globalfooter">
        <h5>Join the battle to save Earth from the relentless aliens, space is endless and so is the fun with Lilou and Stitch vibes! </h5>
        <h5>Contact us at kokoliev@post.bgu.ac.il or orlevar@post.bgu.ac.il</h5>
    </footer>
</body>
</html>
